// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

import "forge-std/Test.sol";
import "../core/PellionShield.sol";

contract PellionShieldBenchmark is Test {
    PellionShield pellionShield;

    function setUp() public {
        pellionShield = new PellionShield();
    }

    function testVerifySecretGasBenchmark() public {
        // Valid proof data for secret=1, public_hash=poseidon(1)
        uint[2] memory a = [755666005760357631689510387517894766831264703963726315792408377058787536463, 3411679032894583388598709351009762876125796555017724107401891773495201317803];
        uint[2][2] memory b = [[929503710114875147127808076381206758308701418821493450068907959562478748296, 8580662563414549147262637214027635004784176992947740963037361812771578410902], [4054547738775057969854663630266070364625050027375203213732719317374664206827, 9319598299477594996781068219922379612928035749311098492675848161618486539930]];
        uint[2] memory c = [2707271838297874483000302558830195735370260649062245350243341987042111593017, 7488640939359345602371615325469612751572329292174273374847128526253557026795];
        uint[1] memory input = [18586133768512220936620570745912940619677854269274689475585506675881198879027];

        for (uint256 i = 0; i < 1; i++) {
            pellionShield.verifySecret(a, b, c, input);
        }
    }
}
