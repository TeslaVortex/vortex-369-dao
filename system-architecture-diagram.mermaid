graph TB
    subgraph "ğŸŒ User Interface Layer"
        WEB[Web Application<br/>React/TypeScript]
        DEMO[Demo App<br/>Resonance Scoring]
    end

    subgraph "âš™ï¸ Backend Services Layer"
        API[REST API<br/>Rust/Actix]
        RESONANCE[Resonance Engine<br/>AI Scoring 0-100]
        NOTIFY[Notification Service<br/>User Alerts]
    end

    subgraph "ğŸ’ Smart Contract Layer - Base Chain"
        VORTEX[VortexDAO Contract<br/>0x983a...9fd5<br/>9-Phase Governance]
        NULL[NullOffice Contract<br/>0x7D2f...2bb8<br/>Burns 91% Fees]
        PROXY[Proxy Pattern<br/>âš ï¸ MISSING - Need Upgrade Path]
    end

    subgraph "ğŸ”„ 9-Phase Governance Flow"
        P0[Phase 0: Silence ğŸŒ±<br/>3 days]
        P1[Phase 1: Proposal ğŸ“<br/>3 days]
        P2[Phase 2: Mirror ğŸª<br/>3 days]
        P3[Phase 3: Vortex ğŸŒ€<br/>6 days]
        P4[Phase 4: Resolution âš”ï¸<br/>6 days]
        P5[Phase 5: Fractal ğŸ”„<br/>6 days]
        P6[Phase 6: Breath ğŸ›‘<br/>Checkpoint]
        P7[Phase 7: Witness ğŸ“œ<br/>9 days]
        P8[Phase 8: Return ğŸ”<br/>9 days]
        P9[Phase 9: Manifestation âœ¨<br/>9 days - AUTO-EXECUTE]
    end

    subgraph "ğŸ¯ Scoring Logic"
        HIGH[Score > 66<br/>âœ… Auto-Execute]
        MID[Score 33-66<br/>ğŸ¤” Community Petition]
        LOW[Score < 33<br/>ğŸ”¥ Auto-Burn]
    end

    subgraph "ğŸ’° Fee Distribution"
        FEES[Protocol Fee: 0.9%]
        DAO_TREASURY[DAO Treasury: 9%<br/>0.081% total]
        BURN[Null Office: 91%<br/>0.729% total<br/>ğŸ”¥ BURNED FOREVER]
    end

    subgraph "ğŸ”’ Security & Testing"
        TESTS[Automated Tests<br/>âš ï¸ Need Integration Tests]
        SECURITY[Security Scans<br/>âš ï¸ Need CI/CD Pipeline]
        AUDIT[Manual Audits<br/>âœ… Completed]
    end

    subgraph "ğŸ“¦ Storage & Data"
        BLOCKCHAIN[Base Chain Mainnet<br/>Chain ID: 8453]
        IPFS[IPFS Storage<br/>âš ï¸ Not Visible in Repo]
    end

    %% User Flow
    WEB --> API
    DEMO --> API
    
    %% API to Services
    API --> RESONANCE
    API --> NOTIFY
    
    %% Services to Contracts
    RESONANCE --> VORTEX
    API --> VORTEX
    API --> NULL
    
    %% Missing Proxy
    PROXY -.->|Should Wrap| VORTEX
    PROXY -.->|Should Wrap| NULL
    
    %% Governance Flow
    VORTEX --> P0
    P0 --> P1
    P1 --> P2
    P2 --> P3
    P3 --> P4
    P4 --> P5
    P5 --> P6
    P6 --> P7
    P7 --> P8
    P8 --> P9
    
    %% Scoring
    RESONANCE --> HIGH
    RESONANCE --> MID
    RESONANCE --> LOW
    
    HIGH --> P9
    MID --> P6
    LOW --> NULL
    
    %% Fees
    VORTEX --> FEES
    FEES --> DAO_TREASURY
    FEES --> BURN
    BURN --> NULL
    
    %% Security
    TESTS -.-> VORTEX
    TESTS -.-> NULL
    SECURITY -.-> VORTEX
    SECURITY -.-> NULL
    AUDIT --> VORTEX
    AUDIT --> NULL
    
    %% Storage
    VORTEX --> BLOCKCHAIN
    NULL --> BLOCKCHAIN
    VORTEX -.->|Could Use| IPFS
    
    %% Styling
    classDef missing fill:#ff6b6b,stroke:#c92a2a,color:#fff
    classDef active fill:#51cf66,stroke:#2f9e44,color:#fff
    classDef warning fill:#ffd43b,stroke:#fab005,color:#000
    
    class PROXY,TESTS,SECURITY,IPFS missing
    class VORTEX,NULL,AUDIT,BLOCKCHAIN active
    class P6,MID warning

    %% Legend
    subgraph "ğŸ“Š Legend"
        LEGEND1[âœ… Active & Working]
        LEGEND2[âš ï¸ Needs Attention]
        LEGEND3[âŒ Missing/Critical]
    end
    
    class LEGEND1 active
    class LEGEND2 warning
    class LEGEND3 missing
